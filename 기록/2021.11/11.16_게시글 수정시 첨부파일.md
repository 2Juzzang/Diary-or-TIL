##

게시글 수정시 첨부했던 이미지 파일이 남아있게 하는 기능을 구현했다.

업로드 하나에서 수정시의 업로드까지 하려니 좀 헷갈려서 게시글 수정 업로드의 컴포넌트를 따로 만들었다.

계속 생각을 못했던 부분은

```jsx
<업로드>
let newImg = [];
<수정 업로드>
// 리덕스의 데이터를 가져온다.
let newImg = [...post.post.img];
```
이 부분이었는데, 업로드의 경우 처음 올리는 것이다보니 빈 배열이 맞지만
수정의 경우 올려놓은 이미지들을 다시 사용해야하니 배열 속에 넣어줘야 했다.


또, 수정의 경우 삭제버튼을 누를 시 미리보기 삭제를 못하고 있었다.
일반 업로드의 경우 state를 통해 미리보기를 삭제하고 있었는데 이걸 그대로 사용하려다보니 안되는게 당연했다.

수정의 경우 리덕스의 데이터를 가져와 컴포넌트로 내려줘서 사용하고 있었고 데이터를 하위 컴포넌트로 내리고 내려서 쓰다보니 이를 아예 생각하지 못하고 있었다가 리덕스의 데이터를 쓰고 있었음을 인지하고 삭제 버튼을 누를 시 리덕스의 데이터를 지워주게 설정해서 해결했다.  
```jsx
<수정 업로드>
dispatch(postActions.deleteImg(post.post.img[e]));
삭제시 디스패치를 통해 이미지를 삭제해주었다.
```

역시 다른 분들은 쉽게하지만 8시간 투자해서 몇 줄짜리 코드를 완성한걸 보면 아직도 한참 멀었음을 느낀다. 그리고 코드가 정리되어있지 않다보니 내가짰지만서도 헷갈리게 되는 것 같다.🤣 